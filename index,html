<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è¯­è¨€å“²å­¦å¯¹å’ï¼šAIè£åˆ¤å…¨çƒæ’å</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ========== å…¨å±€æ ·å¼ ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'LXGW WenKai', 'Noto Sans SC', 'Segoe UI', sans-serif;
        }
        
        body {
            background: 
                radial-gradient(circle at 20% 80%, rgba(74, 0, 224, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 219, 222, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(142, 45, 226, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a1a 0%, #15152b 50%, #0f0f23 100%);
            color: #e8e8f0;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* èƒŒæ™¯åŠ¨ç”»ç²’å­ */
        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(142, 45, 226, 0.1);
            pointer-events: none;
            z-index: 0;
        }
        
        /* ========== é¡¶éƒ¨å¯¼èˆªæ  ========== */
        .main-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 26, 0.85);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(142, 45, 226, 0.3);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #8e2de2, #4a00e0);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            color: white;
        }
        
        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(90deg, #8e2de2, #00dbde);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 1px;
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
        }
        
        .nav-link {
            color: rgba(232, 232, 240, 0.8);
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: 500;
            padding: 8px 0;
            position: relative;
            transition: all 0.3s;
        }
        
        .nav-link:hover {
            color: #00dbde;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #8e2de2, #00dbde);
            transition: width 0.3s;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        /* ========== è‹±é›„åŒºåŸŸ ========== */
        .hero-section {
            padding: 180px 40px 100px;
            text-align: center;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .hero-title {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 20px;
            line-height: 1.1;
        }
        
        .gradient-text {
            background: linear-gradient(90deg, #8e2de2, #4a00e0, #00dbde);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: gradientShift 8s ease infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .hero-subtitle {
            font-size: 1.3rem;
            color: rgba(232, 232, 240, 0.8);
            max-width: 700px;
            margin: 0 auto 40px;
            line-height: 1.6;
        }
        
        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
        }
        
        /* ========== æŒ‰é’®æ ·å¼ ========== */
        .btn {
            padding: 16px 32px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #8e2de2, #4a00e0);
            color: white;
            box-shadow: 0 10px 30px rgba(142, 45, 226, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(142, 45, 226, 0.4);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(142, 45, 226, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .btn-secondary:hover {
            background: rgba(142, 45, 226, 0.1);
            transform: translateY(-3px);
            border-color: #8e2de2;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.7s;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        /* ========== å“²å­¦ä¸»é¢˜å¡ç‰‡ ========== */
        .themes-section {
            padding: 80px 40px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 60px;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 10%;
            width: 80%;
            height: 3px;
            background: linear-gradient(90deg, transparent, #8e2de2, #00dbde, transparent);
            border-radius: 2px;
        }
        
        .themes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }
        
        .theme-card {
            background: rgba(20, 20, 35, 0.7);
            border-radius: 20px;
            padding: 30px;
            transition: all 0.4s;
            border: 1px solid rgba(142, 45, 226, 0.2);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        
        .theme-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #8e2de2, #4a00e0, #00dbde);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s;
        }
        
        .theme-card:hover {
            transform: translateY(-10px);
            border-color: rgba(142, 45, 226, 0.5);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .theme-card:hover::before {
            transform: scaleX(1);
        }
        
        .theme-icon {
            width: 70px;
            height: 70px;
            background: rgba(142, 45, 226, 0.1);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: 20px;
            color: #8e2de2;
            border: 1px solid rgba(142, 45, 226, 0.3);
        }
        
        .theme-name {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #e8e8f0;
        }
        
        .theme-description {
            color: rgba(232, 232, 240, 0.7);
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 1rem;
        }
        
        .theme-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .theme-difficulty {
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .difficulty-high {
            background: rgba(255, 94, 98, 0.2);
            color: #ff5e62;
            border: 1px solid rgba(255, 94, 98, 0.3);
        }
        
        .difficulty-medium {
            background: rgba(255, 170, 0, 0.2);
            color: #ffaa00;
            border: 1px solid rgba(255, 170, 0, 0.3);
        }
        
        .difficulty-low {
            background: rgba(0, 219, 222, 0.2);
            color: #00dbde;
            border: 1px solid rgba(0, 219, 222, 0.3);
        }
        
        .theme-action {
            color: #8e2de2;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
        }
        
        /* ========== æ’åç³»ç»Ÿä¾§è¾¹æ  ========== */
        .ranking-sidebar {
            position: fixed;
            top: 80px;
            right: 20px;
            width: 350px;
            background: rgba(15, 15, 30, 0.9);
            border-radius: 20px;
            padding: 25px;
            z-index: 900;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(142, 45, 226, 0.3);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .ranking-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(142, 45, 226, 0.2);
        }
        
        .ranking-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #8e2de2, #4a00e0);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .ranking-title {
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .ranking-subtitle {
            color: rgba(232, 232, 240, 0.6);
            font-size: 0.9rem;
        }
        
        .ranking-list {
            max-height: 400px;
            overflow-y: auto;
            padding-right: 5px;
        }
        
        .ranking-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: rgba(30, 30, 50, 0.5);
            border-radius: 12px;
            transition: all 0.3s;
            border-left: 4px solid transparent;
        }
        
        .ranking-item:hover {
            background: rgba(142, 45, 226, 0.1);
            border-left-color: #8e2de2;
        }
        
        .rank-badge {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            font-weight: 700;
            margin-right: 15px;
            font-size: 1.1rem;
        }
        
        .rank-1 {
            background: linear-gradient(135deg, #ffd700, #ffaa00);
            color: #000;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }
        
        .rank-2 {
            background: linear-gradient(135deg, #c0c0c0, #a0a0a0);
            color: #000;
        }
        
        .rank-3 {
            background: linear-gradient(135deg, #cd7f32, #b87333);
            color: #fff;
        }
        
        .rank-4-10 {
            background: rgba(142, 45, 226, 0.2);
            color: #8e2de2;
            border: 1px solid rgba(142, 45, 226, 0.3);
        }
        
        .player-info {
            flex-grow: 1;
        }
        
        .player-name {
            font-weight: 500;
            margin-bottom: 5px;
            color: #e8e8f0;
        }
        
        .player-score {
            font-size: 0.9rem;
            color: rgba(232, 232, 240, 0.6);
        }
        
        .player-rank-change {
            font-size: 0.8rem;
            padding: 3px 8px;
            border-radius: 10px;
            margin-left: 10px;
        }
        
        .rank-up {
            background: rgba(0, 219, 222, 0.2);
            color: #00dbde;
        }
        
        .rank-down {
            background: rgba(255, 94, 98, 0.2);
            color: #ff5e62;
        }
        
        /* ========== ä¸ªäººæ•°æ®é¢æ¿ ========== */
        .personal-panel {
            position: fixed;
            top: 80px;
            left: 20px;
            width: 320px;
            background: rgba(15, 15, 30, 0.9);
            border-radius: 20px;
            padding: 25px;
            z-index: 900;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(0, 219, 222, 0.3);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .personal-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .user-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #8e2de2, #4a00e0);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .user-info h3 {
            font-size: 1.3rem;
            margin-bottom: 5px;
        }
        
        .user-rank {
            color: #00dbde;
            font-weight: 600;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-item {
            background: rgba(30, 30, 50, 0.5);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 5px;
            color: #8e2de2;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: rgba(232, 232, 240, 0.6);
        }
        
        /* ========== ç»´åº¦åˆ†æé¢æ¿ ========== */
        .dimensions-panel {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 320px;
            background: rgba(15, 15, 30, 0.9);
            border-radius: 20px;
            padding: 25px;
            z-index: 900;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 94, 98, 0.3);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .dimensions-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dimension-item {
            margin-bottom: 20px;
        }
        
        .dimension-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .dimension-name {
            font-weight: 500;
        }
        
        .dimension-value {
            color: #8e2de2;
            font-weight: 600;
        }
        
        .dimension-bar {
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .dimension-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 1s ease;
        }
        
        /* ========== æ¨¡æ€çª—å£ ========== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: rgba(20, 20, 35, 0.95);
            border-radius: 25px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow: hidden;
            border: 1px solid rgba(142, 45, 226, 0.3);
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px);
        }
        
        .modal-header {
            padding: 30px;
            border-bottom: 1px solid rgba(142, 45, 226, 0.2);
            background: rgba(10, 10, 25, 0.8);
        }
        
        .modal-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #8e2de2, #00dbde);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .modal-body {
            padding: 30px;
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .modal-actions {
            padding: 20px 30px;
            border-top: 1px solid rgba(142, 45, 226, 0.2);
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            background: rgba(10, 10, 25, 0.8);
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .close-modal:hover {
            background: rgba(142, 45, 226, 0.3);
            transform: rotate(90deg);
        }
        
        /* ========== å“åº”å¼è®¾è®¡ ========== */
        @media (max-width: 1400px) {
            .ranking-sidebar, .personal-panel, .dimensions-panel {
                position: relative;
                width: 100%;
                margin: 20px 0;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
            }
            
            .hero-section {
                padding-top: 120px;
            }
        }
        
        @media (max-width: 768px) {
            .main-nav {
                padding: 15px 20px;
            }
            
            .nav-links {
                display: none;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .themes-grid {
                grid-template-columns: 1fr;
            }
            
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
        }
        
        /* ========== æ»šåŠ¨æ¡æ ·å¼ ========== */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(30, 30, 50, 0.5);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #8e2de2, #4a00e0);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #9e3df2, #5a10f0);
        }
        
        /* ========== åŠ¨ç”»ç±» ========== */
        .fade-in {
            animation: fadeIn 0.8s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        
        /* ========== å·¥å…·ç±» ========== */
        .glow {
            filter: drop-shadow(0 0 10px currentColor);
        }
        
        .text-gradient {
            background: linear-gradient(90deg, #8e2de2, #00dbde);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯ç²’å­ -->
    <div id="particles"></div>
    
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="main-nav">
        <div class="logo">
            <div class="logo-icon">
                <i class="fas fa-brain"></i>
            </div>
            <div class="logo-text">å“²å­¦å¯¹å’</div>
        </div>
        
        <div class="nav-links">
            <a href="#" class="nav-link">é¦–é¡µ</a>
            <a href="#themes" class="nav-link">ä¸»é¢˜</a>
            <a href="#rankings" class="nav-link">æ’å</a>
            <a href="#about" class="nav-link">å…³äº</a>
        </div>
    </nav>
    
    <!-- è‹±é›„åŒºåŸŸ -->
    <section class="hero-section">
        <h1 class="hero-title">
            ç”¨<span class="gradient-text">æ€æƒ³</span>å¾æœä¸–ç•Œ
        </h1>
        <p class="hero-subtitle">
            è¯­è¨€å“²å­¦å¯¹å’å¹³å°ï¼šåœ¨è¿™é‡Œï¼Œä½ çš„æ¯ä¸€ä¸ªè§‚ç‚¹éƒ½å°†æ¥å—AIè£åˆ¤çš„è¯„ä¼°ï¼Œä¸å…¨çƒæ€æƒ³è€…ç«æŠ€ï¼Œç™»ä¸Šæ€æƒ³ä¹‹å·…ã€‚
            æ·±åº¦ã€å¹¿åº¦ã€è‡ªæ´½æ€§ã€åˆ›é€ åŠ›â€”â€”å››ä¸ªç»´åº¦å®šä¹‰ä½ çš„æ€æƒ³é«˜åº¦ã€‚
        </p>
        
        <div class="cta-buttons">
            <button class="btn btn-primary" onclick="startBattle()">
                <i class="fas fa-crosshairs"></i>
                å¼€å§‹å¯¹å’
            </button>
            <button class="btn btn-secondary" onclick="showRankings()">
                <i class="fas fa-trophy"></i>
                æŸ¥çœ‹æ’å
            </button>
        </div>
    </section>
    
    <!-- å“²å­¦ä¸»é¢˜åŒºåŸŸ -->
    <section class="themes-section" id="themes">
        <h2 class="section-title">é€‰æ‹©ä½ çš„æ€æƒ³æˆ˜åœº</h2>
        
        <div class="themes-grid" id="themesGrid">
            <!-- ä¸»é¢˜å¡ç‰‡åŠ¨æ€ç”Ÿæˆ -->
        </div>
        
        <div style="text-align: center;">
            <button class="btn btn-secondary" onclick="showRandomTheme()">
                <i class="fas fa-random"></i>
                éšæœºä¸»é¢˜æŒ‘æˆ˜
            </button>
        </div>
    </section>
    
    <!-- æ’åä¾§è¾¹æ  -->
    <div class="ranking-sidebar">
        <div class="ranking-header">
            <div class="ranking-icon">
                <i class="fas fa-globe-americas"></i>
            </div>
            <div>
                <div class="ranking-title">å…¨çƒæ€æƒ³æ’å</div>
                <div class="ranking-subtitle">å®æ—¶æ›´æ–° Â· å‰10å</div>
            </div>
        </div>
        
        <div class="ranking-list" id="rankingList">
            <!-- æ’ååŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>
    
    <!-- ä¸ªäººæ•°æ®é¢æ¿ -->
    <div class="personal-panel">
        <div class="personal-header">
            <div class="user-avatar" id="userAvatar">æ€</div>
            <div class="user-info">
                <h3 id="userName">æ€æƒ³è€…</h3>
                <div class="user-rank">å…¨çƒæ’å: <span id="userRank">#156</span></div>
            </div>
        </div>
        
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-value" id="userScore">850</div>
                <div class="stat-label">æ€æƒ³ç§¯åˆ†</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="userBattles">24</div>
                <div class="stat-label">å¯¹å’æ¬¡æ•°</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="userWins">18</div>
                <div class="stat-label">èƒœåˆ©æ¬¡æ•°</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="userRate">75%</div>
                <div class="stat-label">èƒœç‡</div>
            </div>
        </div>
    </div>
    
    <!-- ç»´åº¦åˆ†æé¢æ¿ -->
    <div class="dimensions-panel">
        <div class="dimensions-title">
            <i class="fas fa-chart-radar"></i>
            æ€æƒ³ç»´åº¦åˆ†æ
        </div>
        
        <div class="dimension-item">
            <div class="dimension-header">
                <span class="dimension-name">æ·±åº¦</span>
                <span class="dimension-value" id="depthValue">65%</span>
            </div>
            <div class="dimension-bar">
                <div class="dimension-fill" id="depthBar" style="width: 65%; background: linear-gradient(90deg, #4a00e0, #8e2de2);"></div>
            </div>
        </div>
        
        <div class="dimension-item">
            <div class="dimension-header">
                <span class="dimension-name">å¹¿åº¦</span>
                <span class="dimension-value" id="breadthValue">48%</span>
            </div>
            <div class="dimension-bar">
                <div class="dimension-fill" id="breadthBar" style="width: 48%; background: linear-gradient(90deg, #00b09b, #96c93d);"></div>
            </div>
        </div>
        
        <div class="dimension-item">
            <div class="dimension-header">
                <span class="dimension-name">è‡ªæ´½æ€§</span>
                <span class="dimension-value" id="coherenceValue">72%</span>
            </div>
            <div class="dimension-bar">
                <div class="dimension-fill" id="coherenceBar" style="width: 72%; background: linear-gradient(90deg, #ff5e62, #ff9966);"></div>
            </div>
        </div>
        
        <div class="dimension-item">
            <div class="dimension-header">
                <span class="dimension-name">åˆ›é€ åŠ›</span>
                <span class="dimension-value" id="creativityValue">56%</span>
            </div>
            <div class="dimension-bar">
                <div class="dimension-fill" id="creativityBar" style="width: 56%; background: linear-gradient(90deg, #f46b45, #eea849);"></div>
            </div>
        </div>
    </div>
    
    <!-- æ¨¡æ€çª—å£ -->
    <div class="modal-overlay" id="battleModal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">Ã—</button>
            
            <div class="modal-header">
                <h2 class="modal-title" id="modalTheme">å­˜åœ¨ä¸æ„è¯†çš„æœ¬è´¨</h2>
                <p style="color: rgba(232,232,240,0.8);">ç”¨è¯­è¨€é˜è¿°ä½ çš„æ€æƒ³ï¼ŒAIè£åˆ¤å°†ä»å››ä¸ªç»´åº¦è¿›è¡Œè¯„ä¼°</p>
            </div>
            
            <div class="modal-body">
                <div style="margin-bottom: 30px;">
                    <h3 style="color: #00dbde; margin-bottom: 15px;">ä½ çš„æ€æƒ³é˜è¿°</h3>
                    <textarea id="philosophyInput" 
                              style="width: 100%; min-height: 200px; background: rgba(30,30,50,0.7); 
                                     border: 1px solid rgba(142,45,226,0.3); border-radius: 12px; 
                                     padding: 20px; color: white; font-size: 1.1rem; 
                                     line-height: 1.6; resize: vertical; outline: none;"
                              placeholder="è¯·åœ¨è¿™é‡Œç”¨è¯­è¨€è¡¨è¾¾ä½ å¯¹è¿™ä¸ªä¸»é¢˜çš„ç†è§£...ï¼ˆå»ºè®®300-1000å­—ï¼‰"></textarea>
                </div>
                
                <div id="judgeResult" style="display: none;">
                    <h3 style="color: #00dbde; margin-bottom: 15px;">AIè£åˆ¤è¯„ä¼°ç»“æœ</h3>
                    <div style="background: rgba(30,30,50,0.7); border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                        <p id="judgeComment" style="color: rgba(232,232,240,0.9); line-height: 1.6;"></p>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                        <div style="background: rgba(74,0,224,0.1); border-radius: 12px; padding: 20px; text-align: center; border: 1px solid rgba(142,45,226,0.3);">
                            <div style="font-size: 2.5rem; font-weight: 700; color: #8e2de2;" id="depthScore">65</div>
                            <div style="color: rgba(232,232,240,0.8);">æ€æƒ³æ·±åº¦</div>
                        </div>
                        <div style="background: rgba(0,219,222,0.1); border-radius: 12px; padding: 20px; text-align: center; border: 1px solid rgba(0,219,222,0.3);">
                            <div style="font-size: 2.5rem; font-weight: 700; color: #00dbde;" id="breadthScore">48</div>
                            <div style="color: rgba(232,232,240,0.8);">æ€æƒ³å¹¿åº¦</div>
                        </div>
                        <div style="background: rgba(255,94,98,0.1); border-radius: 12px; padding: 20px; text-align: center; border: 1px solid rgba(255,94,98,0.3);">
                            <div style="font-size: 2.5rem; font-weight: 700; color: #ff5e62;" id="coherenceScore">72</div>
                            <div style="color: rgba(232,232,240,0.8);">è‡ªæ´½æ€§</div>
                        </div>
                        <div style="background: rgba(244,107,69,0.1); border-radius: 12px; padding: 20px; text-align: center; border: 1px solid rgba(244,107,69,0.3);">
                            <div style="font-size: 2.5rem; font-weight: 700; color: #f46b45;" id="creativityScore">56</div>
                            <div style="color: rgba(232,232,240,0.8);">åˆ›é€ åŠ›</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="submitPhilosophy()" id="submitBtn">æäº¤æ€æƒ³</button>
            </div>
        </div>
    </div>

    <script>
        // ================ æ¸¸æˆæ•°æ® ================
        
        // ç”¨æˆ·æ•°æ®
        const userData = {
            id: 'user_' + Date.now(),
            name: 'æ€æƒ³è€…' + Math.floor(Math.random() * 1000),
            avatar: 'æ€',
            score: 850,
            battles: 24,
            wins: 18,
            losses: 6,
            rank: 156,
            dimensions: {
                depth: 65,
                breadth: 48,
                coherence: 72,
                creativity: 56
            }
        };
        
        // å…¨çƒæ’åæ•°æ®
        let globalRankings = [];
        
        // å“²å­¦ä¸»é¢˜
        const philosophyThemes = [
            { id: 1, name: "å­˜åœ¨ä¸æ„è¯†", description: "æ¢è®¨å­˜åœ¨çš„æœ¬è´¨ã€æ„è¯†çš„èµ·æºä¸ç‰©è´¨çš„å…³ç³»", difficulty: "high", icon: "ğŸ§ " },
            { id: 2, name: "è‡ªç”±ä¸å†³å®šè®º", description: "äººç±»æ˜¯å¦æ‹¥æœ‰è‡ªç”±æ„å¿—ï¼Œè¿˜æ˜¯è¢«å› æœå…³ç³»æ‰€å†³å®š", difficulty: "medium", icon: "ğŸ•Šï¸" },
            { id: 3, name: "çŸ¥è¯†ä¸çœŸç†", description: "æ¢è®¨çŸ¥è¯†çš„æ¥æºã€çœŸç†çš„æ ‡å‡†ä¸è®¤è¯†çš„ç•Œé™", difficulty: "medium", icon: "ğŸ”" },
            { id: 4, name: "é“å¾·ä¸ä»·å€¼", description: "æ¢è®¨å–„æ¶çš„æœ¬è´¨ã€é“å¾·çš„åŸºç¡€ä¸ä»·å€¼çš„æ¥æº", difficulty: "medium", icon: "âš–ï¸" },
            { id: 5, name: "æ—¶é—´ä¸æ°¸æ’", description: "æ¢è®¨æ—¶é—´çš„æœ¬è´¨ã€è¿‡å»ç°åœ¨æœªæ¥çš„å…³ç³»ä¸æ°¸æ’çš„æ„ä¹‰", difficulty: "high", icon: "â³" },
            { id: 6, name: "è‡ªæˆ‘ä¸ä»–è€…", description: "æ¢è®¨è‡ªæˆ‘è®¤åŒã€ä»–è€…è®¤è¯†ä¸ä¸»ä½“é—´æ€§çš„é—®é¢˜", difficulty: "medium", icon: "ğŸ‘¥" },
            { id: 7, name: "ç§‘æŠ€ä¸äººæ€§", description: "æ¢è®¨ç§‘æŠ€å‘å±•å¯¹äººç±»æœ¬è´¨ã€ä¼¦ç†ä¸ç¤¾ä¼šçš„å½±å“", difficulty: "low", icon: "ğŸ¤–" },
            { id: 8, name: "æ„ä¹‰ä¸è™šæ— ", description: "æ¢è®¨ç”Ÿå‘½çš„æ„ä¹‰ã€å­˜åœ¨çš„ä»·å€¼ä¸è™šæ— ä¸»ä¹‰çš„æŒ‘æˆ˜", difficulty: "high", icon: "ğŸŒ€" }
        ];
        
        // å½“å‰å¯¹æˆ˜ä¸»é¢˜
        let currentBattleTheme = null;
        
        // ================ åˆå§‹åŒ–æ¸¸æˆ ================
        
        function initGame() {
            createParticles();
            generateThemeCards();
            generateGlobalRankings();
            updateUserDisplay();
            updateRankingDisplay();
            updateDimensionsDisplay();
            
            // æ·»åŠ æ»šåŠ¨åŠ¨ç”»
            setupScrollAnimations();
        }
        
        // åˆ›å»ºèƒŒæ™¯ç²’å­
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const size = Math.random() * 4 + 1;
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const duration = Math.random() * 20 + 10;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${x}vw`;
                particle.style.top = `${y}vh`;
                particle.style.animation = `float ${duration}s linear infinite`;
                
                particlesContainer.appendChild(particle);
            }
            
            // æ·»åŠ æµ®åŠ¨åŠ¨ç”»
            const style = document.createElement('style');
            style.textContent = `
                @keyframes float {
                    0%, 100% { transform: translateY(0) translateX(0); }
                    25% { transform: translateY(-20px) translateX(10px); }
                    50% { transform: translateY(-10px) translateX(20px); }
                    75% { transform: translateY(-30px) translateX(-10px); }
                }
            `;
            document.head.appendChild(style);
        }
        
        // ç”Ÿæˆä¸»é¢˜å¡ç‰‡
        function generateThemeCards() {
            const themesGrid = document.getElementById('themesGrid');
            themesGrid.innerHTML = '';
            
            philosophyThemes.forEach(theme => {
                const themeCard = document.createElement('div');
                themeCard.className = 'theme-card fade-in';
                themeCard.onclick = () => startThemeBattle(theme);
                
                const difficultyClass = `difficulty-${theme.difficulty}`;
                const difficultyText = {
                    high: 'é«˜',
                    medium: 'ä¸­',
                    low: 'ä½'
                }[theme.difficulty];
                
                themeCard.innerHTML = `
                    <div class="theme-icon">${theme.icon}</div>
                    <h3 class="theme-name">${theme.name}</h3>
                    <p class="theme-description">${theme.description}</p>
                    <div class="theme-meta">
                        <span class="theme-difficulty ${difficultyClass}">éš¾åº¦: ${difficultyText}</span>
                        <span class="theme-action">
                            å¼€å§‹æŒ‘æˆ˜ <i class="fas fa-arrow-right"></i>
                        </span>
                    </div>
                `;
                
                themesGrid.appendChild(themeCard);
            });
        }
        
        // ç”Ÿæˆå…¨çƒæ’å
        function generateGlobalRankings() {
            globalRankings = [userData];
            
            // ç”ŸæˆAIç©å®¶
            for (let i = 1; i <= 99; i++) {
                const score = Math.floor(Math.random() * 2000) + 500;
                const names = ['è‹æ ¼æ‹‰åº•ä¹‹é—¨å¾’', 'å°¼é‡‡çš„é»„æ˜', 'åº·å¾·ä¹‹æ˜Ÿç©º', 'åº„å­ä¹‹è¶æ¢¦', 'é»‘æ ¼å°”è¾©è¯æ³•'];
                
                globalRankings.push({
                    id: 'ai_' + i,
                    name: names[Math.floor(Math.random() * names.length)],
                    avatar: 'AI',
                    score: score,
                    battles: Math.floor(Math.random() * 50) + 10,
                    wins: Math.floor(Math.random() * 40) + 5,
                    rank: i + 1,
                    isAI: true
                });
            }
            
            // æŒ‰ç§¯åˆ†æ’åº
            globalRankings.sort((a, b) => b.score - a.score);
            
            // æ›´æ–°æ’å
            globalRankings.forEach((player, index) => {
                player.rank = index + 1;
            });
            
            // æ›´æ–°ç”¨æˆ·æ’å
            const userIndex = globalRankings.findIndex(p => p.id === userData.id);
            if (userIndex !== -1) {
                userData.rank = userIndex + 1;
            }
        }
        
        // ================ ç•Œé¢æ›´æ–°å‡½æ•° ================
        
        function updateUserDisplay() {
            document.getElementById('userName').textContent = userData.name;
            document.getElementById('userAvatar').textContent = userData.avatar;
            document.getElementById('userRank').textContent = `#${userData.rank}`;
            document.getElementById('userScore').textContent = userData.score;
            document.getElementById('userBattles').textContent = userData.battles;
            document.getElementById('userWins').textContent = userData.wins;
            
            const winRate = userData.battles > 0 ? Math.floor((userData.wins / userData.battles) * 100) : 0;
            document.getElementById('userRate').textContent = `${winRate}%`;
        }
        
        function updateRankingDisplay() {
            const rankingList = document.getElementById('rankingList');
            const top10 = globalRankings.slice(0, 10);
            
            rankingList.innerHTML = '';
            
            top10.forEach((player, index) => {
                const isCurrentUser = player.id === userData.id;
                const rankItem = document.createElement('div');
                rankItem.className = `ranking-item`;
                
                // ç”Ÿæˆéšæœºæ’åå˜åŒ–
                const rankChange = Math.random() > 0.5 ? 'up' : 'down';
                const changeValue = Math.floor(Math.random() * 3) + 1;
                
                rankItem.innerHTML = `
                    <div class="rank-badge rank-${index + 1}">${index + 1}</div>
                    <div class="player-info">
                        <div class="player-name">
                            ${player.name}
                            ${isCurrentUser ? '<span style="color: #00dbde;"> (ä½ )</span>' : ''}
                        </div>
                        <div class="player-score">${player.score} ç§¯åˆ†</div>
                    </div>
                    <div class="player-rank-change ${rankChange === 'up' ? 'rank-up' : 'rank-down'}">
                        ${rankChange === 'up' ? 'â†‘' : 'â†“'} ${changeValue}
                    </div>
                `;
                
                rankingList.appendChild(rankItem);
            });
        }
        
        function updateDimensionsDisplay() {
            const dims = userData.dimensions;
            
            document.getElementById('depthBar').style.width = `${dims.depth}%`;
            document.getElementById('breadthBar').style.width = `${dims.breadth}%`;
            document.getElementById('coherenceBar').style.width = `${dims.coherence}%`;
            document.getElementById('creativityBar').style.width = `${dims.creativity}%`;
            
            document.getElementById('depthValue').textContent = `${dims.depth}%`;
            document.getElementById('breadthValue').textContent = `${dims.breadth}%`;
            document.getElementById('coherenceValue').textContent = `${dims.coherence}%`;
            document.getElementById('creativityValue').textContent = `${dims.creativity}%`;
        }
        
        // ================ å¯¹æˆ˜ç³»ç»Ÿ ================
        
        function startBattle() {
            const randomTheme = philosophyThemes[Math.floor(Math.random() * philosophyThemes.length)];
            startThemeBattle(randomTheme);
        }
        
        function startThemeBattle(theme) {
            currentBattleTheme = theme;
            document.getElementById('modalTheme').textContent = theme.name;
            document.getElementById('philosophyInput').value = '';
            document.getElementById('judgeResult').style.display = 'none';
            document.getElementById('submitBtn').disabled = false;
            document.getElementById('battleModal').style.display = 'flex';
        }
        
        function showRandomTheme() {
            const randomTheme = philosophyThemes[Math.floor(Math.random() * philosophyThemes.length)];
            startThemeBattle(randomTheme);
        }
        
        function closeModal() {
            document.getElementById('battleModal').style.display = 'none';
            currentBattleTheme = null;
        }
        
        function submitPhilosophy() {
            const input = document.getElementById('philosophyInput');
            const text = input.value.trim();
            
            if (text.length < 100) {
                showNotification('æ€æƒ³é˜è¿°è‡³å°‘éœ€è¦100å­—ï¼Œè¯·æ›´æ·±å…¥åœ°è¡¨è¾¾ä½ çš„æƒ³æ³•ã€‚', 'warning');
                return;
            }
            
            if (text.length > 5000) {
                showNotification('æ€æƒ³é˜è¿°è¿‡é•¿ï¼Œè¯·ç²¾ç®€åˆ°5000å­—ä»¥å†…ã€‚', 'warning');
                return;
            }
            
            // ç¦ç”¨æäº¤æŒ‰é’®
            document.getElementById('submitBtn').disabled = true;
            
            // æ¨¡æ‹ŸAIè¯„ä¼°
            simulateAIEvaluation(text);
        }
        
        function simulateAIEvaluation(text) {
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> AIè¯„ä¼°ä¸­...';
            
            // æ¨¡æ‹Ÿè¯„ä¼°è¿‡ç¨‹
            setTimeout(() => {
                // ç”Ÿæˆè¯„ä¼°ç»“æœ
                const wordCount = text.length;
                const depth = Math.min(95, Math.max(20, Math.floor(wordCount / 10 + Math.random() * 30)));
                const breadth = Math.min(90, Math.max(15, Math.floor(wordCount / 15 + Math.random() * 25)));
                const coherence = Math.min(98, Math.max(30, Math.floor(wordCount / 12 + Math.random() * 35)));
                const creativity = Math.min(85, Math.max(10, Math.floor(wordCount / 20 + Math.random() * 40)));
                
                // è®¡ç®—æ€»åˆ†
                const totalScore = Math.floor((depth * 0.35) + (breadth * 0.25) + (coherence * 0.25) + (creativity * 0.15));
                
                // æ›´æ–°è¯„ä¼°ç»“æœæ˜¾ç¤º
                document.getElementById('depthScore').textContent = depth;
                document.getElementById('breadthScore').textContent = breadth;
                document.getElementById('coherenceScore').textContent = coherence;
                document.getElementById('creativityScore').textContent = creativity;
                
                // ç”Ÿæˆè¯„è¯­
                const comment = generateAIComment(depth, breadth, coherence, creativity);
                document.getElementById('judgeComment').textContent = comment;
                
                // æ˜¾ç¤ºç»“æœ
                document.getElementById('judgeResult').style.display = 'block';
                
                // æ¢å¤æŒ‰é’®
                submitBtn.innerHTML = '<i class="fas fa-check"></i> è¯„ä¼°å®Œæˆ';
                submitBtn.disabled = true;
                
                // æ›´æ–°ç”¨æˆ·æ•°æ®
                updateUserAfterBattle(totalScore, { depth, breadth, coherence, creativity });
                
                // æ˜¾ç¤ºé€šçŸ¥
                showNotification(`æ€æƒ³è¯„ä¼°å®Œæˆï¼è·å¾— ${totalScore} ç§¯åˆ†`, 'success');
                
                // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
                document.querySelector('.modal-body').scrollTop = document.querySelector('.modal-body').scrollHeight;
            }, 2000);
        }
        
        function generateAIComment(depth, breadth, coherence, creativity) {
            const comments = [];
            
            if (depth >= 80) comments.push("æ€æƒ³æ·±åº¦å“è¶Šï¼Œè§¦åŠé—®é¢˜æœ¬è´¨");
            else if (depth >= 60) comments.push("æ€æƒ³æ·±åº¦è‰¯å¥½ï¼Œæœ‰ä¸€å®šæ´å¯ŸåŠ›");
            else comments.push("æ€æƒ³æ·±åº¦æœ‰å¾…æå‡");
            
            if (breadth >= 70) comments.push("æ€æƒ³å¹¿åº¦å‡ºè‰²ï¼Œè§†è§’å¤šå…ƒ");
            else if (breadth >= 50) comments.push("æ€æƒ³å¹¿åº¦é€‚ä¸­");
            else comments.push("æ€æƒ³å¹¿åº¦å¯ä»¥è¿›ä¸€æ­¥æ‰©å±•");
            
            if (coherence >= 80) comments.push("é€»è¾‘è‡ªæ´½æ€§ä¼˜ç§€ï¼Œè®ºè¯ä¸¥å¯†");
            else if (coherence >= 60) comments.push("é€»è¾‘åŸºæœ¬è¿è´¯");
            else comments.push("é€»è¾‘è‡ªæ´½æ€§éœ€åŠ å¼º");
            
            if (creativity >= 70) comments.push("åˆ›é€ åŠ›å‡ºä¼—ï¼Œè§‚ç‚¹æ–°é¢–");
            else if (creativity >= 50) comments.push("æœ‰ä¸€å®šåˆ›æ–°æ€§");
            else comments.push("åˆ›é€ åŠ›æœ‰å¾…å¼€å‘");
            
            const total = (depth + breadth + coherence + creativity) / 4;
            if (total >= 80) comments.push("æ€»ä½“è¯„ä»·ï¼šå“è¶Šçš„æ€æƒ³è€…ï¼");
            else if (total >= 60) comments.push("æ€»ä½“è¯„ä»·ï¼šä¼˜ç§€çš„æ€æƒ³è¡¨è¾¾ï¼");
            else comments.push("æ€»ä½“è¯„ä»·ï¼šç»§ç»­åŠªåŠ›ï¼Œæ½œåŠ›æ— é™ï¼");
            
            return comments.join('ã€‚');
        }
        
        function updateUserAfterBattle(score, dimensions) {
            // æ›´æ–°ç”¨æˆ·æ•°æ®
            userData.score += score;
            userData.battles++;
            userData.wins++;
            
            // æ›´æ–°ç»´åº¦æ•°æ®
            userData.dimensions.depth = Math.floor((userData.dimensions.depth * (userData.battles - 1) + dimensions.depth) / userData.battles);
            userData.dimensions.breadth = Math.floor((userData.dimensions.breadth * (userData.battles - 1) + dimensions.breadth) / userData.battles);
            userData.dimensions.coherence = Math.floor((userData.dimensions.coherence * (userData.battles - 1) + dimensions.coherence) / userData.battles);
            userData.dimensions.creativity = Math.floor((userData.dimensions.creativity * (userData.battles - 1) + dimensions.creativity) / userData.battles);
            
            // æ›´æ–°AIç©å®¶æ•°æ®
            updateAIPlayers();
            
            // æ›´æ–°å…¨çƒæ’å
            updateGlobalRankings();
            
            // æ›´æ–°ç•Œé¢
            updateUserDisplay();
            updateRankingDisplay();
            updateDimensionsDisplay();
        }
        
        function updateAIPlayers() {
            globalRankings.forEach(player => {
                if (player.isAI && Math.random() < 0.3) {
                    player.score += Math.floor(Math.random() * 50) + 10;
                    player.battles += Math.floor(Math.random() * 3) + 1;
                    player.wins += Math.floor(Math.random() * 2) + 1;
                }
            });
            
            globalRankings.sort((a, b) => b.score - a.score);
            globalRankings.forEach((player, index) => {
                player.rank = index + 1;
            });
        }
        
        // ================ å·¥å…·å‡½æ•° ================
        
        function showRankings() {
            alert('æ’ååŠŸèƒ½å°†åœ¨å®Œæ•´ç‰ˆä¸­å¼€æ”¾ï¼');
        }
        
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${type === 'success' ? 'rgba(0,219,222,0.9)' : 'rgba(255,94,98,0.9)'};
                color: white;
                padding: 15px 25px;
                border-radius: 12px;
                z-index: 10000;
                font-weight: 500;
                animation: slideInRight 0.3s, slideOutRight 0.3s 2.7s forwards;
                box-shadow: 0 10px 25px rgba(0,0,0,0.3);
                max-width: 300px;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
            
            // æ·»åŠ åŠ¨ç”»
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideInRight {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOutRight {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        }
        
        function setupScrollAnimations() {
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, observerOptions);
            
            document.querySelectorAll('.theme-card').forEach(card => {
                observer.observe(card);
            });
        }
        
        // ================ åˆå§‹åŒ– ================
        
        window.onload = initGame;
        
        // ç‚¹å‡»æ¨¡æ€å¤–éƒ¨å…³é—­
        document.getElementById('battleModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
        
        // æ·»åŠ é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>